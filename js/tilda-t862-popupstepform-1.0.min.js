function t862_init(t){var e=document.getElementById("rec"+t),r;if(e&&e.querySelector(".t862")){var o=e.querySelector(".t862__quiz-wrapper"),n=e.querySelector(".t-form");if(n){var s=e.querySelectorAll(".t-input-group"),i=e.querySelector(".t862__btn_prev"),l=e.querySelector(".t862__btn_next"),a=e.querySelector(".t862__btn_result"),u=e.querySelector(".t-form__errorbox-middle"),c='<div class="t862__capture-form"></div>',p=0;if(u)var _=u.querySelector(".t-form__errorbox-wrapper");u.insertAdjacentHTML("beforebegin",c),n.classList.remove("js-form-proccess"),s[p].style.display="block",s[p].classList.add("t-input-group-step_active"),e.setAttribute("data-animationappear","off"),e.style.opacity=1,t862_workWithAnswerCode(e);for(var d=0;d<s.length;d++)s[d].setAttribute("data-question-number",d);t862_wrapCaptureForm(e),t862_switchQuestion(e,p);var y=e.querySelector(".t862__capture-form"),v=e.querySelector(".t862__result-title"),f=v?v.textContent:"";t862_showCounter(e,p),t862_disabledPrevBtn(e,p),t862_openToHook(e,s,y),i.addEventListener("click",(function(t){p>0&&p--,t862_setProgress(e,-1),t862__checkMode(),t862_awayFromResultScreen(e),t862_showCounter(e,p),t862_hideError(e,p),t862_disabledPrevBtn(e,p),t862_switchQuestion(e,p),t862_resizePopup(e),t.preventDefault()})),l.addEventListener("click",(function(t){var r=t862_showError(e,o,p);r&&_&&(_.style.display="none"),r||(p++,i.removeAttribute("disabled"),t862_setProgress(e,1),t862_showCounter(e,p),t862_switchQuestion(e,p),t862_resizePopup(e)),t862__checkMode(),t.preventDefault()}));for(var d=0;d<s.length;d++){var g;s[d].addEventListener("keypress",(function(t){var r=n.querySelector(".t-input-group-step_active");if(!("Enter"!==t.code&&13!==t.keyCode||n.classList.contains("js-form-proccess")||r.classList.contains("t-input-group_ta"))){var s=t862_showError(e,o,p),l=t862_createQuestionArr(e);s&&_&&(_.style.display="none"),i.removeAttribute("disabled"),s||(p++,t862_setProgress(e,1),t862_showCounter(e,p),p<l.length?t862_switchQuestion(e,p):(t862_switchResultScreen(e),n.classList.add("js-form-proccess")),t862_disabledPrevBtn(e,p)),t862__checkMode(),t.preventDefault()}}))}a.addEventListener("click",(function(t){var r=t862_showError(e,o,p);r&&_&&(_.style.display="none"),r||(p++,t862_setProgress(e,1),n.classList.add("js-form-proccess"),t862_disabledPrevBtn(e,p),y.innerHTML||f?t862_switchResultScreen(e):(t862_showCounter(e,p),t862_switchQuestion(e,p))),t.preventDefault()}))}}}function t862_workWithAnswerCode(t){for(var e=t.querySelectorAll(".t-input-group_ri input"),r=t.querySelectorAll(".t-input-group_rd input"),o=t.querySelectorAll(".t-input-group_sb option"),n=0;n<e.length;n++){var s;if(-1!==(s=e[n]).value.indexOf("value::")){t862_setAnswerCode(s);var i=s.parentNode.querySelector(".t-img-select__text");i&&(i.textContent=i.textContent.split("value::")[0].trim())}}for(var n=0;n<r.length;n++){var s;if(-1!==(s=r[n]).value.indexOf("value::")){t862_setAnswerCode(s);var l=s.parentNode;l&&(l.innerHTML=l.innerHTML.split("value::")[0].trim())}}for(var n=0;n<o.length;n++){var a=o[n];-1!==a.value.indexOf("value::")&&(t862_setAnswerCode(a),a.textContent=a.textContent.split("value::")[0].trim())}}function t862_setAnswerCode(t){t.value=t.value.split("value::")[1].trim()}function t862_wrapCaptureForm(t){for(var e=t.querySelector(".t862__capture-form"),r=t.querySelectorAll(".t-input-group"),o=t.querySelector(".t862__quiz-form-wrapper"),n=0;n<r.length;n++){var s=r[n],i=s.classList.contains("t-input-group_em"),l=s.classList.contains("t-input-group_nm"),a=s.classList.contains("t-input-group_ph"),u=s.classList.contains("t-input-group_cb"),c,p=4;if(s.getAttribute("data-question-number")>=r.length-4){var _=!0;if(o.classList.contains("t862__quiz-form-wrapper_newcapturecondition"))for(var d=t862__nextAll(s,".t-input-group"),y=0;y<d.length;y++){var v=d[y];_=v.classList.contains("t-input-group_cb")||v.classList.contains("t-input-group_em")||v.classList.contains("t-input-group_nm")||v.classList.contains("t-input-group_ph")}_&&(i||l||a||u)&&(s.classList.add("t862__t-input-group_capture"),e.appendChild(s))}}}function t862_showCounter(t,e){var r=t.querySelector(".t862__quiz-description-counter");if(r){var o=t862_createQuestionArr(t);r.innerHTML=e+1+"/"+o.length}}function t862_createQuestionArr(t){for(var e=t.querySelectorAll(".t-input-group"),r=[],o=0;o<e.length;o++){var n=e[o];n.classList.contains("t862__t-input-group_capture")||r.push(n)}return r}function t862_disabledPrevBtn(t,e){var r=t.querySelector(".t862__btn_prev");0===e?r.setAttribute("disabled",""):r.removeAttribute("disabled")}function t862_openToHook(t,e,r){var o=t.querySelector(".t-popup"),n=t.querySelector(".t-popup__close"),s=t.querySelectorAll('a[href*="#"]'),i=o.getAttribute("data-tooltip-hook"),l=o.getAttribute("data-track-popup"),a=o.querySelector(".t-form__submit .t-submit"),u=t862__escClosePopup.bind(o,t);i&&(t_onFuncLoad("t_popup__addAttributesForAccessibility",(function(){t_popup__addAttributesForAccessibility(i)})),document.addEventListener("click",(function(o){var n=o.target.closest('a[href="'+i+'"]');if(n&&(o.preventDefault(),window.isMobile||n.classList.add("t-popup__triggered-btn"),t862_showPopup(t,e,r,u),setTimeout((function(){t862_resizePopup(t)}),50),t862__lazyLoad(),l)){var s=i;"#popup:"==s.substring(0,7)&&(s=s.substring(7)),Tilda.sendEventToStatistics(l,s)}}))),o.addEventListener("click",(function(e){e.target===this&&t862_closePopup(t,u)})),n.addEventListener("click",(function(){t862_closePopup(t,u)}));for(var c=0;c<s.length;c++)s[c].addEventListener("click",(function(){var e=this.getAttribute("href");(!e||"#price:"!=e.substring(0,7)&&"#order:"!=e.substring(0,7))&&(t862_closePopup(t,u),e&&"#popup:"!=e.substring(0,7)||setTimeout((function(){t_triggerEvent(document.body,"popupShowed"),document.body.classList.add("t-body_popupshowed")}),300))})),s[c].addEventListener("keydown",(function(t){13===t.keyCode&&(window.isMobile||this.classList.add("t-popup__triggered-btn"))}));var p=a&&a.getAttribute("href");p&&"#order:"===p.substring(0,7)&&a.addEventListener("click",(function(){t862_closePopup(t,u)}))}function t862_setProgress(t,e){var r=t.querySelector(".t862__progressbar"),o=t.querySelector(".t862__progress"),n=t862_createQuestionArr(t).length,s=t.querySelector(".t862__capture-form"),i=t.querySelector(".t862__result-title"),l=i?i.textContent:"",a=0,u=getComputedStyle(r,null),c=parseInt(u.paddingLeft)||0,p=parseInt(u.paddingRight)||0;a=r.clientWidth-(c+p),!s.innerHTML&&!l&&n>0&&n--;var _=o.getAttribute("data-progress-bar");_||(_=0,o.setAttribute("data-progress-bar","0"));var d=a/n,y=(parseFloat(_)+e*d)/a*100;isNaN(y)||y===-1/0?(y=0,o.setAttribute("data-progress-bar",y)):y===1/0?(y=a,o.setAttribute("data-progress-bar",y)):o.setAttribute("data-progress-bar",a/100*y),y>100?y=100:y<0&&(y=0),o&&(o.style.width=y+"%")}function t862__checkMode(){document.getElementById("allrecords").getAttribute("data-tilda-mode")||t862__lazyLoad()}function t862__lazyLoad(){"y"!==window.lazy&&"yes"!==document.getElementById("allrecords").getAttribute("data-tilda-lazy")||t_onFuncLoad("t_lazyload_update",(function(){t_lazyload_update()}))}function t862_awayFromResultScreen(t){var e=t.querySelector(".t862__capture-form"),r=t.querySelector(".t862__quiz-description"),o=t.querySelector(".t862__result-title"),n=t.querySelector(".t-form__submit");e.style.display="none",o&&(o.style.display="none"),n&&(n.style.display="none"),r&&(r.style.display="block")}function t862_hideError(t,e){var r,o=t862_createQuestionArr(t)[e];o&&(o.classList.remove("js-error-control-box"),o.querySelector(".t-input-error").innerHTML="")}function t862_switchQuestion(t,e){for(var r=t.querySelector(".t862__btn_next"),o=t.querySelector(".t862__btn_result"),n=t862_createQuestionArr(t),s=t.querySelector(".t-form__submit"),i=t.querySelector(".t862__capture-form"),l=t.querySelector(".t862__result-title"),a=l?l.textContent:"",u=0;u<n.length;u++){var c=n[u];c.style.display="none",c.classList.remove("t-input-group-step_active")}var p=n[e],_=p.querySelector(".t-range");p.style.display="block",p.classList.add("t-input-group-step_active"),_&&t_triggerEvent(_,"displayChanged");var d=i.innerHTML;d||a||e!==n.length-2?d||a||e!==n.length-1?e===n.length-1?(r.style.display="none",o.style.display="block",s.style.display="none"):(r.style.display="block",o.style.display="none",s.style.display="none"):(r.style.display="none",o.style.display="none",s.style.display="block"):(r.style.display="none",o.style.display="block",s.style.display="none")}function t862_showError(t,e,r){if(e.classList.contains("t862__quiz-published"))return t862_setError(t,r)}function t862_setError(t,e){var r,o=t862_createQuestionArr(t)[e],n;if("object"!=typeof window.tildaForm)return n;var s=window.tildaForm.validate(o),i=s[0];if(o&&o.classList.add("js-error-control-box"),i){var l=i.type[0],a=t.querySelector(".t-form .t-form__errorbox-middle .js-rule-error-"+l),u="";a&&(u=a.textContent),u||t_onFuncLoad("t_forms__getMsg",(function(){u=t_forms__getMsg(l)})),n="emptyfill"!==l&&window.tildaForm.showErrors(o,s);var c=o.querySelector(".t-input-error");c&&(c.innerHTML=u)}return n}function t862_switchResultScreen(t){var e=t.querySelector(".t862__btn_result"),r=t.querySelector(".t-form__submit"),o=t.querySelector(".t862__capture-form"),n=t.querySelector(".t862__result-title");if(o.innerHTML||n.textContent){for(var s=t.querySelector(".t862__quiz-description"),i=t862_createQuestionArr(t),l=0;l<i.length;l++)i[l].style.display="none";o&&(o.style.display="block"),n&&(n.style.display="block"),s&&(s.style.display="none")}e.style.display="none",r.style.display="block"}function t862_onSuccess(t){t_forms__onSuccess(t)}function t862_lockScroll(){var t=document.body;if(!t.classList.contains("t-body_scroll-locked")){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||t.parentNode||t).scrollTop;t.classList.add("t-body_scroll-locked"),t.style.top="-"+e+"px",t.setAttribute("data-popup-scrolltop",e)}}function t862_unlockScroll(){var t=document.body;if(t.classList.contains("t-body_scroll-locked")){var e=t.getAttribute("data-popup-scrolltop");t.classList.remove("t-body_scroll-locked"),t.style.top="",t.removeAttribute("data-popup-scrolltop"),window.scrollTo(0,parseInt(e))}}function t862_showPopup(t,e,r,o){var n=window.innerWidth,s=document.body,i=t.querySelector(".t-popup"),l=i.querySelector(".t-popup__container"),a=t.querySelector(".t862__quiz"),u=t.querySelector(".t-range");i.style.display="block",u&&t_triggerEvent(u,"popupOpened"),t862__lazyLoad(),setTimeout((function(){i.classList.add("t-popup_show"),l.classList.add("t-popup__container-animated"),t_onFuncLoad("t_popup__trapFocus",(function(){t_popup__trapFocus(i)})),n>640&&a.classList.contains("t862__quiz_fixedheight")&&t862_setHeight(t,e,r),n<=640&&t862_setMobileHeight(),t862__showJivo("1","1")}),50),t_triggerEvent(document.body,"popupShowed"),s.classList.add("t-body_popupshowed"),s.classList.add("t862__body_popupshowed"),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!window.MSStream&&setTimeout((function(){t862_lockScroll()}),500),document.addEventListener("keydown",o)}function t862__escClosePopup(t,e){"Escape"===arguments[1].key&&t862_closePopup(t,e)}function t862_setHeight(t,e,r){for(var o=t.querySelector(".t862__quiz-form-wrapper"),n=t.querySelector(".t862__result-title"),s=t.querySelector(".t862__quiz-description"),i=n?n.offsetHeight:0,l=s?s.offsetHeight:0,a=getComputedStyle(r).display,u=[],c=[],p=0;p<e.length;p++){var _=e[p];_.classList.contains("t862__t-input-group_capture")||u.push(_)}for(var p=0;p<u.length;p++)c.push(u[p].offsetHeight);var d=Math.max.apply(null,c);r.style.display="block";for(var y=0,v=r.querySelectorAll(".t-input-block"),p=0;p<v.length;p++){var f=v[p],g=getComputedStyle(f,null),m,h;y+=(parseInt(g.height)||0)+(parseInt(g.marginBottom)||0)}r.style.display=a;for(var b=d>y?d:y,p=0;p<u.length;p++)u[p].style.minHeight=b+"px";r.style.minHeight=b+"px",o.style.minHeight=b+"px";var w=i>l?i:l,S=o.offsetHeight,q=t.querySelector(".t862__btn-wrapper").offsetHeight;t.querySelector(".t862__wrapper").style.minHeight=w+S+q+"px"}function t862_setMobileHeight(){t862_calcVH(),window.addEventListener("resize",t862_calcVH)}function t862_calcVH(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px")}function t862_closePopup(t,e){var r=document.body,o=t.querySelector(".t-popup"),n;o===document.querySelector(".t-popup.t-popup_show")&&(t_triggerEvent(document.body,"popupHidden"),r.classList.remove("t-body_popupshowed"),r.classList.remove("t862__body_popupshowed")),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!window.MSStream&&t862_unlockScroll(),t_onFuncLoad("t_popup__addFocusOnTriggerButton",(function(){t_popup__addFocusOnTriggerButton()})),o.classList.remove("t-popup_show"),t862__showJivo("2147483647","2147483648"),setTimeout((function(){for(var t=document.querySelectorAll(".t-popup:not(.t-popup_show)"),e=0;e<t.length;e++)t[e].style.display="none"}),300),document.removeEventListener("keydown",e)}function t862_resizePopup(t){var e=window.innerHeight-120,r=t.querySelector(".t-popup__container"),o=getComputedStyle(r,null),n=parseInt(o.paddingTop)||0,s=parseInt(o.paddingBottom)||0,i;r.clientHeight-(n+s)>e?r.classList.add("t-popup__container-static"):r.classList.remove("t-popup__container-static")}function t862__showJivo(t,e){for(var r=document.querySelectorAll("._show_1e.wrap_mW.__jivoMobileButton"),o=document.querySelectorAll(".label_39#jvlabelWrap"),n=0;n<r.length;n++)r[n].style.zIndex=t;for(var n=0;n<o.length;n++)o[n].style.zIndex=e}function t862__nextAll(t,e){for(var r=[],o=t;o.nextElementSibling;)(o=o.nextElementSibling).matches(e)&&r.push(o);return r}function t_triggerEvent(t,e){var r;document.createEvent?(r=document.createEvent("HTMLEvents")).initEvent(e,!0,!1):document.createEventObject&&((r=document.createEventObject()).eventType=e),r.eventName=e,t.dispatchEvent?t.dispatchEvent(r):t.fireEvent?t.fireEvent("on"+r.eventType,r):t[e]?t[e]():t["on"+e]&&t["on"+e]()}